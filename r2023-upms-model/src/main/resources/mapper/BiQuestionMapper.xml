<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="cn.bipark.reco.upms.model.mapper.BiQuestionMapper">
	
	<sql id="QuestionWhere">
		<where>	      				
	       <if test="@Ognl@isNotEmpty(type)">
				AND t.type = #{type}
			</if>
	       <if test="@Ognl@isNotEmpty(content)">
				AND t.content = #{content}
			</if>
	       <if test="@Ognl@isNotEmpty(answer)">
				AND t.answer = #{answer}
			</if>
	       <if test="@Ognl@isNotEmpty(options)">
				AND t.options = #{options}
			</if>
	       <if test="@Ognl@isNotEmpty(score)">
				AND t.score = #{score}
			</if>
		</where>
	</sql>

    <select id="findBy" resultType="cn.bipark.reco.upms.model.viewmodel.list.QuestionListVM">
    	SELECT 
			t.id				id,
			t.type				type,
			t.content				content,
			t.answer				answer,
			t.options				options,
			t.score				score
	    FROM bi_question t
		<include refid="QuestionWhere"/>		
		<if test="@Ognl@isNotEmpty(orderBy)">
			ORDER BY ${orderBy}
		</if>
    </select>
	
</mapper>

