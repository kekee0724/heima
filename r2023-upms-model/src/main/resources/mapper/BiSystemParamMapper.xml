<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="cn.bipark.reco.upms.model.mapper.BiSystemParamMapper">
	
	<sql id="SystemParamWhere">
		<where>	      				
	       <if test="@Ognl@isNotEmpty(paramKey)">
				AND t.param_key = #{paramKey}
			</if>
	       <if test="@Ognl@isNotEmpty(paramValue)">
				AND t.param_value = #{paramValue}
			</if>
	       <if test="@Ognl@isNotEmpty(gmtCreate)">
				AND t.gmt_create = #{gmtCreate}
			</if>
	       <if test="@Ognl@isNotEmpty(gmtUpdateTimeBegin)">
				AND t.gmt_update_time >= #{gmtUpdateTimeBegin}
		   </if>
		   <if test="@Ognl@isNotEmpty(gmtUpdateTimeEnd)">
				AND t.gmt_update_time &lt;= #{gmtUpdateTimeEnd}
		   </if>
	       <if test="@Ognl@isNotEmpty(gmtUpdate)">
				AND t.gmt_update = #{gmtUpdate}
			</if>
	       <if test="@Ognl@isNotEmpty(gmtCreateTimeBegin)">
				AND t.gmt_create_time >= #{gmtCreateTimeBegin}
		   </if>
		   <if test="@Ognl@isNotEmpty(gmtCreateTimeEnd)">
				AND t.gmt_create_time &lt;= #{gmtCreateTimeEnd}
		   </if>
		</where>
	</sql>

    <select id="findBy" resultType="cn.bipark.reco.upms.model.viewmodel.list.SystemParamListVM">
    	SELECT 
			t.id				id,
			t.param_key				paramKey,
			t.param_value				paramValue,
			t.gmt_create				gmtCreate,
			t.gmt_update_time				gmtUpdateTime,
			t.gmt_update				gmtUpdate,
			t.gmt_create_time				gmtCreateTime
	    FROM bi_system_param t 
		<include refid="SystemParamWhere"/>		
		<if test="@Ognl@isNotEmpty(orderBy)">
			ORDER BY ${orderBy}
		</if>
    </select>
	
</mapper>

